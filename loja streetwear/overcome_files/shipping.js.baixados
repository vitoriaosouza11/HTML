var shipping={},checkCep=function(cthis){shipping.current=$(cthis).closest(".shipping-calculator"),shipping.cepval=shipping.current.find(".address_zip").val(),shipping.current.find(".new-get-rates").addClass("get-rates"),shipping.cepval.length!=9?alert("Digite um cep v\xE1lido"):addProdCart()},addProdCart=function(){var variantid=$("#variantid");if(variantid[0]){var variantvalue=$("#variantid").val(),cartItens;jQuery.getJSON("/cart.js",function(cart){cartItens=cart.item_count,cartItens==0?(console.log("adicionando..."),$.post("/cart/add.js",{quantity:1,id:variantvalue},function(data){console.log("Adicionado"),carregaFrete(shipping.cepval);var cleanShipping=setInterval(function(){if($("#wrapper-response")[0]){var htmlEl=$("#wrapper-response").html().trim();htmlEl!=""&&(console.log("carregou frete pode lipar o carrinho"),clearInterval(cleanShipping),$.post("/cart/clear.js",function(data2){console.log("Cart clean")},"json"))}},5e3)},"json")):(console.log(cartItens+" - itens no carrinho"),carregaFrete(shipping.cepval))})}else carregaFrete(shipping.cepval)},carregaFrete=function(){console.log("carrega frete"),$(".get-rates-custom").addClass("loading"),$("#shipping-calculator .loading").addClass("load"),$.getJSON("//viacep.com.br/ws/"+shipping.cepval+"/json/?callback=?",function(dados){if("erro"in dados)flag=!1,alert("CEP n\xE3o encontrado");else{shipping.current.find(".shipping-calculator")[0]||(shipping.current.find(".wrapper-response").attr("id","wrapper-response"),$("#shipping-calculator.active")[0]||(Shopify.Cart.ShippingCalculator.show({submitButton:"Calcular",submitButtonDisabled:"Calculando...",moneyFormat:moneyformat}),$("#shipping-calculator").addClass("active")),shipping.current.find(".shipping-calculator").addClass("shiping-loaded"),setTimeout(function(){shipping.current.find(".wrapper-response").removeAttr("id")},1e3));var state,uf=dados.uf.toUpperCase();switch(uf){case"AC":state="Acre";break;case"AL":state="Alagoas";break;case"AM":state="Amazonas";break;case"AP":state="Amap\xE1";break;case"BA":state="Bahia";break;case"CE":state="Cear\xE1";break;case"DF":state="Distrito Federal";break;case"ES":state="Esp\xEDrito Santo";break;case"GO":state="Goi\xE1s";break;case"MA":state="Maranh\xE3o";break;case"MG":state="Minas Gerais";break;case"MS":state="Mato Grosso do Sul";break;case"MT":state="Mato Grosso";break;case"PA":state="Par\xE1";break;case"PB":state="Para\xEDba";break;case"PE":state="Pernambuco";break;case"PI":state="Piau\xED";break;case"PR":state="Paran\xE1";break;case"RJ":state="Rio de Janeiro";break;case"RN":state="Rio Grande do Norte";break;case"RO":state="Rond\xF4nia";break;case"RR":state="Roraima";break;case"RS":state="Rio Grande do Sul";break;case"SC":state="Santa Catarina";break;case"SE":state="Sergipe";break;case"SP":state="S\xE3o Paulo";break;case"TO":state="Tocantins";break}$('[name="address[province]"] option[value="'+state+'"]').prop("selected",!0);var timerjQuery=setInterval(function(){$('[name="address[province]"] option')[0]&&($('[name="address[province]"]').val(state),$('[name="address[province]"]').prop("selected",!0),shipping.current.find(".get-rates").trigger("click"),clearInterval(timerjQuery))},1e3)}$(".get-rates-custom").removeClass("loading")}).fail(function(jqXHR){alert("Consulta de CEP indisponivel no momento")})};$(function(){$(document).on("click",".get-rates-custom",function(){checkCep($(this))}),$(document).on("keypress",".address_zip",function(event){event.keyCode==13&&(event.preventDefault(),checkCep($(this)))})});
//# sourceMappingURL=/cdn/shop/t/10/assets/shipping.js.map?v=156102578635805579641647028873
