(function(shopify) {
(()=>{var Ee=Object.defineProperty,ye=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var se=(t,_,f)=>_ in t?Ee(t,_,{enumerable:!0,configurable:!0,writable:!0,value:f}):t[_]=f,I=(t,_)=>{for(var f in _||(_={}))be.call(_,f)&&se(t,f,_[f]);if(oe)for(var f of oe(_))Re.call(_,f)&&se(t,f,_[f]);return t},W=(t,_)=>ye(t,ve(_));var le="WebPixel::Render";var Y=t=>shopify.extend(le,t);var de=!1;function Ae(){for(let t of Object.values(_e))t.enabled=t.percent>Math.random()*100}function U(t){return de||(de=!0,Ae()),_e[t].enabled}var _e={0:{percent:0,enabled:!1},1:{percent:0,enabled:!1},2:{percent:10,enabled:!1},3:{percent:100,enabled:!0}};var Ce="developer_id.dYmNjMT",O="dNzYwYj";function ge(t){let _=t.init.customerPrivacy;if(_===void 0||_.marketingAllowed||_.analyticsProcessingAllowed)ue(t,_);else{let f=!1;t.customerPrivacy.subscribe("visitorConsentCollected",y=>{let b=y.customerPrivacy;!f&&(b.marketingAllowed||b.analyticsProcessingAllowed)&&(ue(t,b),f=!0)})}}function ue(t,_){var $,H,X,Z,B,J,K,Q,h,k,ee,te;let f=window.dataLayer=window.dataLayer||[],y=JSON.parse(t.settings.config),b=[];if(y.google_tag_ids&&y.google_tag_ids.length>0){let e=y.google_tag_ids;b.push(...e)}else b.push(y.pixel_id);let u=window.gtag=window.gtag||function(){f.push(arguments)};_&&(u("consent","default",ce(_)),u("set",me(_))),D(t)&&(u("set",{ignore_referrer:"true"}),u("policy","detect_click_events",()=>!1),u("policy","detect_element_visibility_events",()=>!1),u("policy","detect_history_change_events",()=>!1),u("policy","detect_link_click_events",()=>!1),u("policy","detect_timer_events",()=>!1),u("policy","detect_youtube_activity_events",()=>!1),u("policy","detect_scroll_events",()=>!1),u("policy","detect_form_submit_events",()=>!1),u("policy","detect_form_interaction_events",()=>!1)),u("policy","internal_sw_allowed",()=>!1),u("set",Ce,!0),u("js",new Date);let L={send_page_view:!1};D(t)&&(L.ignore_referrer="true");for(let e of b){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.body.appendChild(n),u("config",e,L)}let P=y.gtag_events,F=e=>{var n;return"shopify_"+(y.target_country||"US")+"_"+String((n=e==null?void 0:e.product)==null?void 0:n.id)+"_"+String(e==null?void 0:e.id)},S=e=>{let n=e==null?void 0:e.title;return["default","title","default title",""].includes(String(n).toLowerCase())?null:n},V=e=>{var g,p,r,s,E,a,v,i,c,C,T,w;let o={value:(g=e==null?void 0:e.subtotalPrice)==null?void 0:g.amount},l=(r=(p=e==null?void 0:e.totalPrice)==null?void 0:p.amount)!=null?r:0;l-=(E=(s=e==null?void 0:e.totalTax)==null?void 0:s.amount)!=null?E:0,l-=(i=(v=(a=e==null?void 0:e.shippingLine)==null?void 0:a.price)==null?void 0:v.amount)!=null?i:0;let m=0,d=(c=e==null?void 0:e.lineItems)!=null?c:[];for(let R of d){let A=(T=(C=R.variant)==null?void 0:C.price.amount)!=null?T:0;A*=R.quantity;for(let N of R.discountAllocations)A-=(w=N.amount.amount)!=null?w:0;m+=A}return U(3)&&(o.google_analysis_params={lineItemValue:m,totalPriceValue:l}),o},j=(e,n)=>n?`${e} - ${n}`:e,pe=(e,n)=>{var o;if(e==="/search"){let l=(o=document.querySelector("link[rel='canonical']"))==null?void 0:o.getAttribute("href");if(l)return l}return n},fe=(e,n,o)=>e&&e.endsWith("thank_you")?j(n,o):n,x=e=>{var n,o,l,m,d,g,p;return{email:e==null?void 0:e.email,phone_number:e==null?void 0:e.phone,address:{first_name:(n=e==null?void 0:e.billingAddress)==null?void 0:n.firstName,last_name:(o=e==null?void 0:e.billingAddress)==null?void 0:o.lastName,street:(l=e==null?void 0:e.billingAddress)==null?void 0:l.address1,city:(m=e==null?void 0:e.billingAddress)==null?void 0:m.city,region:(d=e==null?void 0:e.billingAddress)==null?void 0:d.province,postal_code:(g=e==null?void 0:e.billingAddress)==null?void 0:g.zip,country:(p=e==null?void 0:e.billingAddress)==null?void 0:p.country}}},q={email:(X=(H=($=t.init)==null?void 0:$.data)==null?void 0:H.customer)==null?void 0:X.email,phone_number:(J=(B=(Z=t.init)==null?void 0:Z.data)==null?void 0:B.customer)==null?void 0:J.phone,address:{first_name:(h=(Q=(K=t.init)==null?void 0:K.data)==null?void 0:Q.customer)==null?void 0:h.firstName,last_name:(te=(ee=(k=t.init)==null?void 0:k.data)==null?void 0:ee.customer)==null?void 0:te.lastName}};t.analytics.subscribe("page_viewed",e=>{var o,l,m,d,g,p,r,s;let n=P.find(E=>E.type==="page_view");if(n&&n.action_label){let E=(m=(l=(o=e.context)==null?void 0:o.window)==null?void 0:l.location)==null?void 0:m.pathname,a=I({send_to:n.action_label,developer_id:{[O]:!0},page_path:E,page_title:Te((g=(d=e.context)==null?void 0:d.document)==null?void 0:g.title,E),page_location:pe(E,(s=(r=(p=e.context)==null?void 0:p.window)==null?void 0:r.location)==null?void 0:s.href),user_data:q},!U(2)&&D(t)&&{ignore_referrer:"true"});u("event","page_view",a)}}),t.analytics.subscribe("product_viewed",e=>{var o,l,m,d,g,p;let n=P.find(r=>r.type==="view_item");if(n&&n.action_label){let r=(o=e.data)==null?void 0:o.productVariant;u("event","view_item",{send_to:n.action_label,developer_id:{[O]:!0},ecomm_prodid:[F(r)],ecomm_totalvalue:(l=r==null?void 0:r.price)==null?void 0:l.amount,ecomm_pagetype:"product",items:[{id:F(r),name:j((m=r==null?void 0:r.product)==null?void 0:m.title,S(r)),brand:(d=r==null?void 0:r.product)==null?void 0:d.vendor,category:(g=r==null?void 0:r.product)==null?void 0:g.type,price:(p=r==null?void 0:r.price)==null?void 0:p.amount,variant:S(r)}],user_data:q})}}),t.analytics.subscribe("product_added_to_cart",e=>{var o,l,m,d,g,p,r,s,E,a,v;let n=P.find(i=>i.type==="add_to_cart");if(n&&n.action_label){let i=(o=e.data)==null?void 0:o.cartLine,c=i==null?void 0:i.merchandise;u("event","add_to_cart",{send_to:n.action_label,developer_id:{[O]:!0},ecomm_prodid:[F(i==null?void 0:i.merchandise)],ecomm_totalvalue:(m=(l=i==null?void 0:i.cost)==null?void 0:l.totalAmount)==null?void 0:m.amount,ecomm_pagetype:"cart",value:(g=(d=i==null?void 0:i.cost)==null?void 0:d.totalAmount)==null?void 0:g.amount,currency:((r=(p=i==null?void 0:i.cost)==null?void 0:p.totalAmount)==null?void 0:r.currencyCode)||"USD",items:[{id:F(c),name:j((s=c==null?void 0:c.product)==null?void 0:s.title,S(c)),brand:(E=c==null?void 0:c.product)==null?void 0:E.vendor,category:(a=c==null?void 0:c.product)==null?void 0:a.type,price:(v=c==null?void 0:c.price)==null?void 0:v.amount,quantity:i==null?void 0:i.quantity,variant:S(c)}],user_data:q})}}),t.analytics.subscribe("checkout_completed",e=>{var o,l,m,d,g,p,r,s,E;let n=P.find(a=>a.type==="purchase");if(n&&n.action_label){let a=(o=e.data)==null?void 0:o.checkout,v=I(W(I({send_to:n.action_label,developer_id:{[O]:!0},transaction_id:(l=a==null?void 0:a.order)==null?void 0:l.id,new_customer:(d=(m=a==null?void 0:a.order)==null?void 0:m.customer)==null?void 0:d.isFirstOrder},V(a)),{currency:((g=a==null?void 0:a.subtotalPrice)==null?void 0:g.currencyCode)||"USD",tax:(p=a==null?void 0:a.totalTax)==null?void 0:p.amount,shipping:(s=(r=a==null?void 0:a.shippingLine)==null?void 0:r.price)==null?void 0:s.amount,items:(E=a==null?void 0:a.lineItems)==null?void 0:E.map(i=>{var c,C,T,w,R,A,N,M,z,G,ne,ae,re,ie;return{id:F(i.variant),name:fe((T=(C=(c=e.context)==null?void 0:c.window)==null?void 0:C.location)==null?void 0:T.pathname,(R=(w=i.variant)==null?void 0:w.product)==null?void 0:R.title,S(i.variant)),brand:(N=(A=i.variant)==null?void 0:A.product)==null?void 0:N.vendor,category:(z=(M=i.variant)==null?void 0:M.product)==null?void 0:z.type,coupon:(ae=(ne=(G=i.discountAllocations)==null?void 0:G[0])==null?void 0:ne.discountApplication)==null?void 0:ae.title,price:(ie=(re=i.variant)==null?void 0:re.price)==null?void 0:ie.amount,quantity:i.quantity,variant:S(i.variant)}}),user_data:x(a)}),!U(2)&&D(t)&&{ignore_referrer:"true"});u("event","purchase",v)}}),t.analytics.subscribe("checkout_started",e=>{var o,l,m,d,g,p,r;let n=P.find(s=>s.type==="begin_checkout");if(n&&n.action_label){let s=(o=e.data)==null?void 0:o.checkout,E=I(W(I({send_to:n.action_label,developer_id:{[O]:!0},ecomm_prodid:(l=s==null?void 0:s.lineItems)==null?void 0:l.map(a=>F(a.variant)),ecomm_totalvalue:(m=s==null?void 0:s.subtotalPrice)==null?void 0:m.amount,ecomm_pagetype:"cart"},V(s)),{currency:((d=s==null?void 0:s.subtotalPrice)==null?void 0:d.currencyCode)||"USD",coupon:(p=(g=s==null?void 0:s.discountApplications)==null?void 0:g[0])==null?void 0:p.title,items:(r=s==null?void 0:s.lineItems)==null?void 0:r.map(a=>{var v,i,c,C,T,w,R,A,N,M,z,G;return{id:F(a.variant),name:(i=(v=a.variant)==null?void 0:v.product)==null?void 0:i.title,brand:(C=(c=a.variant)==null?void 0:c.product)==null?void 0:C.vendor,category:(w=(T=a.variant)==null?void 0:T.product)==null?void 0:w.type,coupon:(N=(A=(R=a.discountAllocations)==null?void 0:R[0])==null?void 0:A.discountApplication)==null?void 0:N.title,price:(z=(M=a.variant)==null?void 0:M.price)==null?void 0:z.amount,quantity:a.quantity,variant:(G=a.variant)==null?void 0:G.title}}),user_data:x(s)}),!U(2)&&D(t)&&{ignore_referrer:"true"});u("event","begin_checkout",E)}}),t.analytics.subscribe("search_submitted",e=>{var o,l;let n=P.find(m=>m.type==="search");n&&n.action_label&&u("event","search",{send_to:n.action_label,developer_id:{[O]:!0},search_term:(l=(o=e.data)==null?void 0:o.searchResult)==null?void 0:l.query,user_data:q})}),t.analytics.subscribe("payment_info_submitted",e=>{var o,l,m;let n=P.find(d=>d.type==="add_payment_info");if(n&&n.action_label){let d=(o=e.data)==null?void 0:o.checkout,g=I({send_to:n.action_label,developer_id:{[O]:!0},currency:((l=d==null?void 0:d.totalPrice)==null?void 0:l.currencyCode)||"USD",total:(m=d==null?void 0:d.totalPrice)==null?void 0:m.amount,user_data:x(d)},!U(2)&&D(t)&&{ignore_referrer:"true"});u("event","add_payment_info",g)}}),t.customerPrivacy.subscribe("visitorConsentCollected",e=>{let n=e.customerPrivacy;u("consent","update",ce(n)),u("set",me(n))})}function me(t){return{restricted_data_processing:!t.saleOfDataAllowed}}function ce(t){return{ad_storage:t.marketingAllowed?"granted":"denied",ad_user_data:t.marketingAllowed?"granted":"denied",ad_personalization:t.marketingAllowed?"granted":"denied",analytics_storage:t.analyticsProcessingAllowed?"granted":"denied"}}function D(t){var _;return((_=t==null?void 0:t._pixelInfo)==null?void 0:_.surfaceNext)==="checkout"}function Te(t,_){if(!_)return t;let f=[["/information","Checkout - Contact Information"],["/shipping","Checkout - Shipping"],["/payment","Checkout - Payment"],["/review","Checkout - Review"],["/processing","Checkout - Processing"],["/thank-you","Checkout - Receipt"],["/stock-problems","Checkout - Stock problems"],["/error","Checkout - Error"]];for(let[y,b]of f)if(_.endsWith(y))return b;return/^\/checkouts\/[A-Za-z0-9]+\/[A-Za-z0-9]+$/.test(_)?"Checkout - Contact Information":t}Y(ge);})();

})(self.webPixelsManager.createShopifyExtend('514785459', 'app'));
